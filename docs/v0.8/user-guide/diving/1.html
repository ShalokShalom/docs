<!doctype html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Lisp Flavored Erlang</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/pygment_trac.css" />
    <link rel="shortcut icon" href="/images/favicon.ico" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  </head>


  <body>
      <div id="header">
        <nav>
          <li class="fork"><img src="https://github.com/lfe/docs/raw/master/images/logos/LispFlavoredErlang-xtiny.png" align="top" /></li>
          <li class="title"><a href="http://lfe.io/#resources">Download</a></li>
          <li class="title"><a href="/community.html">Community</a></li>
          <li class="title"><a href="/contributing.html">Contributing</a></li>
          <li class="title"><a href="/quick-start/1.html">Quick Start</a></li>
          <li class="title"><a href="/">Home</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">


<div id="sidebar-primary" class="sidebar">
  <div class="widget">
    <h3 class="widget-title">User Guide Sections</h3>
    <ol>
      <li>Introduction</li>
      <ul>
        <li><a class="spec" href="/user-guide/intro/1.html">Introduction</a></li>
        <li><a class="spec" href="/user-guide/intro/2.html">The LFE REPL</a></li>
        <li><a class="spec" href="/user-guide/intro/3.html">Loading Files</a></li>
        <li><a class="spec" href="/user-guide/intro/4.html">Setting up a Development Environment</a></li>
      </ul>

      <li>Diving In</li>
      <ul>
        <li><a class="spec" href="/user-guide/diving/1.html">Numbers & Operators</a></li>
        <li><a class="spec" href="/user-guide/diving/2.html">Strings & Atoms</a></li>
        <li><a class="spec" href="/user-guide/diving/3.html">Binary & Bitstrings</a></li>
        <li><a class="spec" href="/user-guide/diving/4.html">Variables</a></li>
        <li><a class="spec" href="/user-guide/diving/5.html">Pattern Matching</a></li>
      </ul>

      <li>Lists & Simple Data (in progress)</li>
      <ul>
        <li><a class="spec" href="/user-guide/data/1.html">Lists & Tuples</a></li>
        <li><a class="spec" href="/user-guide/data/2.html">Comprehensions</a></li>
        <li><a class="spec" href="/user-guide/data/3.html">Property Lists & Hashes</a></li>
        <li><a class="spec" href="/user-guide/data/4.html">Records</a></li>
        <li><a class="spec" href="/user-guide/data/5.html">.hrl Header Files</a></li>
      </ul>

      <li>Functions & Modules (stubbed)</li>
      <ul>
        <li><a class="spec" href="/user-guide/funcode/1.html">Functions</a></li>
        <li><a class="spec" href="/user-guide/funcode/2.html">LFE-Specific Functions </a></li>
        <li><a class="spec" href="/user-guide/funcode/3.html">Modules</a></li>
      </ul>

      <li>Recursion</li>
      <ul>
        <li><a class="spec" href="/user-guide/recursion/1.html">History</a></li>
        <li><a class="spec" href="/user-guide/recursion/2.html">Peano Axioms</a></li>
        <li><a class="spec" href="/user-guide/recursion/3.html">Primitive Recursive</a></li>
        <li><a class="spec" href="/user-guide/recursion/4.html">Total Recursive</a></li>
        <li><a class="spec" href="/user-guide/recursion/5.html">The Î»-Calculus</a></li>
        <li><a class="spec" href="/user-guide/recursion/6.html">Practical Examples</a></li>
        <li><a class="spec" href="/user-guide/recursion/7.html">Tail-Calls</a></li>
      </ul>

      <li>Checks, Errors, & Tests (stubbed)</li>
      <ul>
        <li><a class="spec" href="/user-guide/check/1.html">Guards</a></li>
        <li><a class="spec" href="/user-guide/check/2.html">Exception Handling</a></li>
        <li><a class="spec" href="/user-guide/check/3.html">EUnit with LFE</a></li>
      </ul>

      <li>Processes & Servers (stubbed)</li>
      <ul>
        <li><a class="spec" href="/user-guide/procs/1.html">TBD</a></li>
      </ul>

      <li>External Data (stubbed)</li>
      <ul>
        <li><a class="spec" href="/tutorials/mnesia/1.html">Mnesia Tutorial</a></li>
        <li><a class="spec" href="/user-guide/extdata/1.html">TBD</a></li>
      </ul>

      <li>Development & Deployment (stubbed)</li>
      <ul>
        <li><a class="spec" href="/user-guide/devops/1.html">Projects with Rebar</a></li>
        <li><a class="spec" href="/user-guide/devops/2.html">Working with Kerl</a></li>
        <li><a class="spec" href="/user-guide/devops/3.html">Creating a Library</a></li>
        <li><a class="spec" href="/user-guide/devops/4.html">Apps & Services</a></li>
        <li><a class="spec" href="/user-guide/devops/5.html">Releasing</a></li>
        <li><a class="spec" href="/user-guide/devops/6.html">Running in Production</a></li>
      </ul>

      <li>Java Interop</li>
      <ul>
        <li><a class="spec" href="/user-guide/java/jinterface/1.html">JInterface</a></li>
        <li><a class="spec" href="/user-guide/java/erjang/1.html">Erjang</a></li>
      </ul>

      <li>Additional Topics (stubbed)</li>
      <ul>
        <li><a class="spec" href="/user-guide/extra/1.html">Scripting</a></li>
        <li><a class="spec" href="/user-guide/extra/2.html">Macros</a></li>
        <li><a class="spec" href="/user-guide/extra/3.html">Writing for Multi-Core</a></li>
      </ul>

    </ol>
  </div>
</div>


<div id="content">
  <article>
    <h1>2 Diving In</h1>

<h2>2.1 Numbers and Operators</h2>

<h3>2.1.1 Integers and Floats</h3>

<p>Let&#39;s start with something simple :-) To follow along, fire up your LFE REPL.
Numbers are simple in LFE, just like Erlang:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="mi">1</span>
<span class="mi">1</span>
<span class="nb">&gt;</span> <span class="mi">2</span>
<span class="mi">2</span>
<span class="nb">&gt;</span> <span class="mi">3</span>
<span class="mi">3</span>
<span class="nb">&gt;</span></code></pre></figure>

<p>Of course, it might be more interesting to look at something like different
bases:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="mb">#b101010</span>
<span class="mi">42</span>
<span class="nb">&gt;</span> <span class="mo">#o52</span>
<span class="mi">42</span>
<span class="nb">&gt;</span> <span class="mh">#x2a</span>
<span class="mi">42</span>
<span class="nb">&gt;</span> <span class="m">#36r16</span>
<span class="mi">42</span>
<span class="nb">&gt;</span></code></pre></figure>

<p>LFE supports representing binary (<code>#b</code>), octal (<code>#o</code>), decimal
(<code>#d</code>), hexidecimal (<code>#x</code>), as well as aribtrary bases from 1 through
36 (<code>#XrY</code>).</p>

<p>With some help from calling an Erlang function, we can work the bases in
reverse, too:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nv">integer_to_list</span> <span class="mi">123</span> <span class="mi">2</span><span class="p">)</span>
<span class="s">&quot;1111011&quot;</span></code></pre></figure>

<p>Note that the first argument is the number you want to convert and the second
is the base you want to use (see
<a href="http://erldocs.com/R15B/erts/erlang.html#integer_to_list/2">here</a>
for more details).</p>

<h3>2.1.2 Arithmatic Operators</h3>

<p>But numbers by themselves aren&#39;t going to do us much good if we can&#39;t operate
on them. The usual apply:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">+</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">)</span>
<span class="mi">21</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">-</span> <span class="mi">6</span> <span class="mi">21</span><span class="p">)</span>
<span class="mi">15</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">/</span> <span class="mi">36</span> <span class="mi">7</span><span class="p">)</span>
<span class="mf">5.142857142857143</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">+</span> <span class="mb">#b101010</span> <span class="mo">#o52</span> <span class="mh">#x2a</span> <span class="m">#36r16</span><span class="p">)</span>
<span class="mi">168</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">*</span> <span class="mi">42</span> <span class="mi">4</span><span class="p">)</span>
<span class="mi">168</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nv">integer_to_list</span> <span class="p">(</span><span class="nb">+</span> <span class="mb">#b1001</span> <span class="mb">#b100</span> <span class="mb">#b10</span><span class="p">)</span> <span class="mi">2</span><span class="p">)</span>
<span class="s">&quot;1111&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">div</span> <span class="mi">11</span> <span class="mi">2</span><span class="p">)</span>
<span class="mi">5</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">rem</span> <span class="mi">11</span> <span class="mi">2</span><span class="p">)</span>
<span class="mi">1</span>
<span class="nb">&gt;</span> <span class="o">`</span><span class="p">(</span><span class="o">,</span><span class="p">(</span><span class="nv">div</span> <span class="mi">11</span> <span class="mi">2</span><span class="p">)</span> <span class="o">,</span><span class="p">(</span><span class="nb">rem</span> <span class="mi">11</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="mi">5</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">&gt;</span></code></pre></figure>

<h3>2.1.3 Logical Operators</h3>

<p>The usual suspects are used as follows:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">&lt;</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">&gt;</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">&gt;=</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">=&lt;</span> <span class="mi">3</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">&gt;=</span> <span class="mi">3</span> <span class="mi">2</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">==</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">==</span> <span class="mi">1</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">/=</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">/=</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span></code></pre></figure>

<p>Note the rather awkward different between &quot;less than&quot; and &quot;greater than&quot;: it&#39;s
easy to forget that the angle brackets go at different ends for each.</p>

<p>Then there are the operators which also check against type for exact
(non-)equality: 
<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nv">=:=</span> <span class="mi">1</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">=:=</span> <span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">=/=</span> <span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">=/=</span> <span class="mi">1</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span></code></pre></figure></p>

<h3>2.1.4 Boolean Operators</h3>

<p>How about some logic?</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">and</span> <span class="ss">&#39;true</span> <span class="ss">&#39;false</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">and</span> <span class="ss">&#39;true</span> <span class="ss">&#39;true</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">or</span> <span class="ss">&#39;true</span> <span class="ss">&#39;true</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">or</span> <span class="ss">&#39;true</span> <span class="ss">&#39;false</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">or</span> <span class="ss">&#39;false</span> <span class="ss">&#39;false</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">not</span> <span class="ss">&#39;false</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">not</span> <span class="ss">&#39;true</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">xor</span> <span class="ss">&#39;true</span> <span class="ss">&#39;true</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">xor</span> <span class="ss">&#39;false</span> <span class="ss">&#39;false</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">xor</span> <span class="ss">&#39;true</span> <span class="ss">&#39;false</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span></code></pre></figure>

<p>There are also two boolean operators that you can use if you want to make a
decision based on the truth value of the first term without having to compute
the second term (useful if you have no need to do the second computation when
the first term is false):</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nv">andalso</span> <span class="ss">&#39;false</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">false</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">andalso</span> <span class="ss">&#39;true</span> <span class="mi">1</span><span class="p">)</span>
<span class="mi">1</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">orelse</span> <span class="ss">&#39;true</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">true</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nv">orelse</span> <span class="ss">&#39;false</span> <span class="mi">1</span><span class="p">)</span>
<span class="mi">1</span>
<span class="nb">&gt;</span></code></pre></figure>

<p>In the case of <code>andalso</code> if the first argument is <code>false</code> the second
one will not be evaluated; <code>false</code> will be returned. In the case of
<code>orelse</code> if the first argument is <code>true</code> then <code>true</code> will be
returned without evaluating the second argument.</p>

<p>Contrast this to regular <code>or</code> and <code>and</code>:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">and</span> <span class="ss">&#39;false</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">exception</span> <span class="nv">error:</span> <span class="nv">badarg</span>
  <span class="nv">in</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nb">and</span> <span class="nv">false</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">and</span> <span class="ss">&#39;true</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">exception</span> <span class="nv">error:</span> <span class="nv">badarg</span>
  <span class="nv">in</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nb">and</span> <span class="nv">true</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">or</span> <span class="ss">&#39;false</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">exception</span> <span class="nv">error:</span> <span class="nv">badarg</span>
  <span class="nv">in</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nb">or</span> <span class="nv">false</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">or</span> <span class="ss">&#39;true</span> <span class="mi">1</span><span class="p">)</span>
<span class="nv">exception</span> <span class="nv">error:</span> <span class="nv">badarg</span>
  <span class="nv">in</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nb">or</span> <span class="nv">true</span> <span class="mi">1</span><span class="p">)</span>

<span class="nb">&gt;</span></code></pre></figure>

<h3>2.1.5 Bitwise Operators</h3>

<p>As one would expect, Erlang has the usual bitwise operators as well. Binary
representation is used below for clarity of demonstration. Let&#39;s define a
utility function that will save a little typing:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">set</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="err">:</span> <span class="nv">erlang</span> <span class="nv">integer_to_list</span> <span class="nv">x</span> <span class="mi">2</span><span class="p">)))</span>
<span class="err">#</span><span class="nv">Fun&lt;lfe_eval.10.53503600&gt;</span>
<span class="nb">&gt;</span></code></pre></figure>

<p>With that defined so that we can use it, let&#39;s take a look at some of these
operators:</p>

<figure class="highlight"><pre><code class="language-cl" data-lang="cl"><span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">band</span> <span class="mb">#b10001</span> <span class="mb">#b1001</span><span class="p">))</span>
<span class="s">&quot;1&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">bor</span> <span class="mb">#b10001</span> <span class="mb">#b1001</span><span class="p">))</span>
<span class="s">&quot;11001&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">bxor</span> <span class="mb">#b10001</span> <span class="mb">#b1001</span><span class="p">))</span>
<span class="s">&quot;11000&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">bnot</span> <span class="mb">#b10001</span><span class="p">))</span>
<span class="s">&quot;-10010&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">bnot</span> <span class="p">(</span><span class="nv">bnot</span> <span class="mb">#b10001</span><span class="p">)))</span>
<span class="s">&quot;10001&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">bsl</span> <span class="mb">#b10001</span> <span class="mi">1</span><span class="p">))</span>
<span class="s">&quot;100010&quot;</span>
<span class="nb">&gt;</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nv">dec-to-bin</span> <span class="p">(</span><span class="nv">bsr</span> <span class="mb">#b10001</span> <span class="mi">1</span><span class="p">))</span>
<span class="s">&quot;1000&quot;</span>
<span class="nb">&gt;</span></code></pre></figure>

  </article>

  
  <div class="pagination loop-pagination">
    
      <a class="page-numbers spec" href="">Top</a> |
      <a class="page-numbers spec" href="/docs.html">Docs</a> |
      <a class="page-numbers spec" href="/">Home</a>
    
      | <a href="2.html" class="next page-numbers spec">Next &rarr;</a>
    
  </div>
  


</div><!-- #content -->

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38274766-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>

